!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ThemeSwitcher=t()}(this,(function(){"use strict";return function(e){var t=e||{},o=t.id,n=void 0===o?"theme-style":o,r=t.prefetchId,d=void 0===r?"theme-prefetch":r,c=t.storageKey,i=void 0===c?"site-theme":c,m=t.attr,a=void 0===m?"data-theme":m,f=t.themeMap;if(!f)throw Error('ThemeSwitcher need themeMap like: { dark: "/dark.css" }');if("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)return function(){};Object.keys(f).forEach((function(e){var t="".concat(d,"-").concat(e);if(!document.getElementById(t)){var o=document.createElement("link");o.rel="prefetch",o.type="text/css",o.id=t,o.href=f[e],document.head.append(o)}}));return{switcher:function(e){var t=e.theme,o=e.useStorage,r=void 0===o||o,d=document.getElementById(n);if(d&&d.remove(),r&&(localStorage.removeItem(i),localStorage.setItem(i,t)),f[t]){var c=document.createElement("link");c.type="text/css",c.rel="stylesheet",c.id=n,c.href=f[t],document.body.append(c)}document.body.setAttribute(a,t)},getTheme:function(){return localStorage.getItem(i)}}}}));
